# 日志配置示例

## 新的日志分离功能

现在支持两种日志配置模式：

### 1. 传统模式（单文件）
```yaml
zap:
  level: "info"
  format: "console"
  output-path: "log/starlive.log"
  rotate-by-date: true  # 按日期分割
  level-separation: false # 不按级别分离
  max-size: 100
  max-backups: 30
  max-age: 28
  compress: true
  log-in-console: true
```

**生成的文件结构：**
```
log/
├── starlive-2026-01-16.log
├── starlive-2026-01-17.log
└── starlive-2026-01-18.log
```

### 2. 新模式（按级别分离）
```yaml
zap:
  level: "info"
  format: "console"
  output-path: "log/app.log"  # 基础路径，实际会按日期和级别分离
  rotate-by-date: true  # 按日期分割
  level-separation: true # 按级别分离日志文件
  max-size: 100
  max-backups: 30
  max-age: 28
  compress: true
  log-in-console: true
```

**生成的文件结构：**
```
log/
├── 2026-01-16/
│   ├── debug.log
│   ├── info.log
│   ├── warn.log
│   └── error.log
├── 2026-01-17/
│   ├── debug.log
│   ├── info.log
│   ├── warn.log
│   └── error.log
└── 2026-01-18/
    ├── debug.log
│   ├── info.log
│   ├── warn.log
│   └── error.log
```

## 配置说明

- **level-separation**: `true` 启用按级别分离，`false` 使用传统单文件模式
- **rotate-by-date**: `true` 按日期创建目录，`false` 所有日志在同一个目录
- **log-in-console**: `true` 同时输出到控制台，`false` 只写入文件
- **level**: 控制日志级别（debug/info/warn/error）

## 使用建议

1. **开发环境**：使用 `level-separation: false`，方便查看所有日志
2. **生产环境**：使用 `level-separation: true`，便于按级别分析问题
3. **调试模式**：设置 `level: "debug"`，查看详细日志信息
4. **性能优化**：生产环境设置 `level: "warn"`，减少日志量

## 日志级别自动分类

- **debug.log**: 调试信息（DEBUG级别）
- **info.log**: 普通信息（INFO级别）
- **warn.log**: 警告信息（WARN级别）
- **error.log**: 错误信息（ERROR级别）

系统会根据日志级别自动写入对应的文件，方便快速定位问题。